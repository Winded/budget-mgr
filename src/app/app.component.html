<nav class="navbar navbar-light bg-light">
  <div class="container container-fluid">
    <span class="navbar-brand mb-0 h1">Budget manager</span>
    <app-currencymenu></app-currencymenu>
  </div>
</nav>

<div class="container">
  <div *ngIf="data != null">
  
    <div class="row">

      <div class="col">
        <h2>Monthly Income <a class="bi-pencil-fill icon-button" href="javascript:void(0)" (click)="openIncomeEditor()"></a></h2>
        <app-budgetentrytable [data]="data.income"></app-budgetentrytable>
      </div>

      <div class="col">
        <h2>Monthly Expenses <a class="bi-pencil-fill icon-button" href="javascript:void(0)" (click)="openExpensesEditor()"></a></h2>
        <app-budgetentrytable [data]="data.expenses"></app-budgetentrytable>
      </div>

    </div>
    
    <dl class="row">
      <dt class="col-sm-3">Monthly Surplus/Deficit</dt>
      <dd class="col-sm-9">{{ getSurplus() | currency }}</dd>
      
      <dt class="col-sm-3">Current balance</dt>
      <dd class="col-sm-9">
        {{ data.balance | currency }}
        <a class="bi-pencil-fill icon-button small" href="javascript:void(0)" (click)="openBalanceEditor()"></a>
      </dd>

      <dt class="col-sm-3">Emergency buffer</dt>
      <dd class="col-sm-9">
        {{ data.emergencyBuffer | currency }}
        <a class="bi-pencil-fill icon-button small" href="javascript:void(0)" (click)="openEmergencyBufferEditor()"></a>
      </dd>

      <dt class="col-sm-3">Leftover balance</dt>
      <dd class="col-sm-9">{{ data.balance - data.emergencyBuffer | currency }}</dd>
    </dl>
  
  </div>
  
  <div *ngIf="data == null">
    Loading...
  </div>
</div>

<app-budgetentryeditor></app-budgetentryeditor>
<app-numbereditormodal></app-numbereditormodal>
